---
phase: 68-onboarding-docs
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - docs/QUICKSTART.md
  - docs/guide/commands.md
  - docs/PERMISSIONS.md
  - docs/BOOTSTRAP.md
autonomous: true
---

<objective>
Create streamlined onboarding documentation with QUICKSTART.md, permission matrix, and v1.7 command reference updates.

Purpose: Help new users get productive with Sentinel in 5 minutes, understand permission requirements, and discover new v1.7 commands.
Output: QUICKSTART.md, PERMISSIONS.md, updated commands.md with v1.7 commands.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# v1.7 command implementations
@cli/permissions.go
@cli/config.go
@cli/init_wizard.go
@permissions/types.go

# Existing documentation to update
@docs/guide/commands.md
@docs/guide/getting-started.md
@docs/BOOTSTRAP.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create QUICKSTART.md for 5-minute setup</name>
  <files>docs/QUICKSTART.md</files>
  <action>
Create docs/QUICKSTART.md as a streamlined 5-minute quickstart guide. Structure:

1. **Header**: Brief 1-sentence description of Sentinel
2. **Prerequisites**: AWS credentials configured, Go 1.21+ for building
3. **Install**: `go install` command
4. **Quick Setup** (3 steps):
   - Step 1: Generate configs with templates: `sentinel config generate --template basic --profile dev`
   - Step 2: Bootstrap SSM parameters: `sentinel init bootstrap --profile dev`
   - Step 3: Test it works: `sentinel exec --profile dev --policy-parameter /sentinel/policies/dev`
5. **What's Next**: Links to full getting-started.md and other guides

Keep it minimal - no more than 50 lines. Focus on the fastest path to working credentials.
Reference the `sentinel init wizard` as an alternative for interactive setup.
  </action>
  <verify>File exists at docs/QUICKSTART.md and is less than 100 lines</verify>
  <done>QUICKSTART.md provides 5-minute path to working Sentinel setup</done>
</task>

<task type="auto">
  <name>Task 2: Create PERMISSIONS.md with permission matrix</name>
  <files>docs/PERMISSIONS.md</files>
  <action>
Create docs/PERMISSIONS.md as the comprehensive permission reference. Structure:

1. **Overview**: Sentinel requires different IAM permissions based on enabled features
2. **Quick Reference** (table):
   | Feature | Required Actions | Resource |
   With all 10 features from permissions/types.go:
   - policy_load: ssm:GetParameter
   - credential_issue: sts:AssumeRole, sts:GetCallerIdentity, iam:GetUser
   - approval_workflow: dynamodb:GetItem, PutItem, UpdateItem, Query, Scan
   - breakglass: dynamodb:GetItem, PutItem, UpdateItem, Query, Scan
   - notify_sns: sns:Publish
   - notify_webhook: (none - HTTP only)
   - audit_verify: cloudtrail:LookupEvents
   - enforce_analyze: iam:GetRole, iam:GetRolePolicy, iam:ListRolePolicies
   - bootstrap_plan: ssm:GetParameter, ssm:GetParametersByPath
   - bootstrap_apply: ssm:PutParameter

3. **Minimal Setup** (core features only)
4. **Full Setup** (all features)
5. **Using the Permissions Command**:
   - `sentinel permissions` for human-readable
   - `sentinel permissions --format json` for IAM policy JSON
   - `sentinel permissions --format terraform` for Terraform
   - `sentinel permissions --format cloudformation` for CloudFormation
   - `sentinel permissions --detect` for auto-detection
   - `sentinel permissions check` for validation

6. **Validating Permissions**:
   - `sentinel permissions check --auto-detect`
   - Exit codes (0=pass, 1=fail)

Include sample IAM policy JSON for minimal and full setups.
  </action>
  <verify>File exists at docs/PERMISSIONS.md with permission matrix table</verify>
  <done>PERMISSIONS.md documents all feature permissions with command examples</done>
</task>

<task type="auto">
  <name>Task 3: Update commands.md with v1.7 commands</name>
  <files>docs/guide/commands.md</files>
  <action>
Add documentation for v1.7 commands to docs/guide/commands.md. Insert after the Audit Commands section:

**Permissions Commands section:**
1. `permissions` command:
   - Usage: `sentinel permissions [flags]`
   - Flags: --format (human|json|terraform|cloudformation|cf), --subsystem, --feature, --required-only, --detect, --region
   - Examples: Show all, filter by subsystem, auto-detect, output as Terraform

2. `permissions check` subcommand:
   - Usage: `sentinel permissions check [flags]`
   - Flags: --auto-detect, --features, --output (human|json), --aws-region
   - Exit codes: 0=all passed, 1=failures/errors
   - Examples: Check all, check specific features, auto-detect and check

**Config Commands section:**
1. `config validate` command:
   - Usage: `sentinel config validate [paths...] [flags]`
   - Flags: --path, --ssm, --type (policy|approval|breakglass|ratelimit|bootstrap), --output (human|json), --region
   - Examples: Validate local file, validate SSM parameter, auto-detect type

2. `config generate` command:
   - Usage: `sentinel config generate --template TEMPLATE --profile PROFILE [flags]`
   - Templates: basic, approvals, full
   - Flags: --template, --profile, --user, --output-dir, --json
   - Examples: Generate basic for dev, generate full with users

**Init Wizard section (under Infrastructure Commands):**
1. `init wizard` command:
   - Usage: `sentinel init wizard [flags]`
   - Flags: --profile, --feature, --region, --skip-detection, --format (human|json)
   - Interactive vs non-interactive mode
   - Examples: Interactive wizard, non-interactive with flags

Follow existing command documentation format exactly (Usage, Flags table, Examples, Output).
  </action>
  <verify>docs/guide/commands.md contains permissions, config, and init wizard sections</verify>
  <done>commands.md includes all v1.7 command documentation</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] docs/QUICKSTART.md exists and is concise (<100 lines)
- [ ] docs/PERMISSIONS.md exists with complete permission matrix
- [ ] docs/guide/commands.md includes permissions, permissions check, config validate, config generate, init wizard
- [ ] All command flags and examples match actual CLI implementation
- [ ] Internal links work (relative paths to other docs)
</verification>

<success_criteria>
- All tasks completed
- QUICKSTART.md provides 5-minute setup path
- PERMISSIONS.md covers all 10 features with IAM actions
- commands.md documents all v1.7 commands
- Documentation matches implemented CLI
</success_criteria>

<output>
After completion, create `.planning/phases/68-onboarding-docs/68-01-SUMMARY.md`
</output>
